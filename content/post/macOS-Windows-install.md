+++
title = "MacOS+Windows 双系统的安装"  # 文章标题
date = 2019-12-24T01:19:32+08:00  # 自动添加日期信息
draft = false  # 设为false可被编译为HTML，true供本地修改
tags = ["system","macOS","Windows7"]  # 文章标签，可设置多个，用逗号隔开。Hugo会自动生成标签的子URL
categories = ["system"]
toc = true
preserveTaxonomyNames = true
disablePathToLower = true
+++

> 本文为原创文章，转载注明出处，欢迎关注网站[https://hkvision.cn](https://hkvision.cn)

这两天在帮老爹搞他的古董mac，今天终于把系统装上去了，这里记录一下

## 环境
- macOS 10.15.2 Catalina

## 目标
- macOS 10.15.2 Catalina
- Windows7

是的兄弟，你没看错，确实是Catalina+win7，问题是怎么实现的呢？

## 为什么不用Boot Camp
`10.15.2`版本的`Boot Camp`中文直接就叫`启动转换管理`，特别直接的一个名字，和`Finder`翻译成了`访达`差不多的韵味。

其实对于mac装双系统来讲，用启动转换管理可以搞定一切的，傻瓜式操作，都不怎么费脑筋，**但是**，真的是凡事都怕这两个字，Catalina版本的启动转换管理只支持`win10`，对于我手上这台12年的`mac book pro`来说还是比较吃力的，况且我爹本来就是觉得原来的win7变慢了才来重装系统的。我又把mac的密码找回来了，自然还是装个双系统比较满意，于是下面就有了探索之旅。

> PS: 启动转换助理检测到你的ISO是win7的时候直接就报错退出了，根本不给你钻空子的机会。

## 失败的尝试
下面简要的列举一下我失败的两种尝试

1. mac中磁盘管理划好分区，u盘安装盘安装
   1. 失败原因：磁盘是gpt分区的，安装的时候不让我装那个分区，如果大家之前的就是mbr分区那就应该直接过了，实际上后来我发现Boot Camp还是无损的把gpt换成了mbr，所以如果你确定你手上有工具能够无损转换分区格式的话，那就直接转了就行了
2. mac中划好分区，pe安装
   1. 失败原因：pe安装好像都装好了，但是重启的时候找不到那个分区的引导（表现为按`Option`键之后找不到对应的分区），不知道怎么回事，估计是我对EFI引导不熟悉导致的

总之完全不依靠Boot Camp的方案都失败了

## 成功的尝试
正当我心灰意冷准备装Win10算了的时候，我按照步骤用Boot Camp划好了分区，做好了Win10的系统盘，mac重启的那一刹那，我灵光一闪，突然想到我怎么那么傻，重启之后就代表mac此刻工作已经结束了，下面的就是windows的安装步骤，而这个时候划好的分区肯定是好的没问题，那我完全可以来个偷天换日，这个时候把u盘拔出来刷上win7的iso，然后装win7不就行了，果然后来证明我想的完全正确，顺利的把系统装上去了

所以，正确的安装步骤是：

- win10和win7的iso原版镜像文件（i tell you上面去下）
- 一个u盘作安装盘
- 插u盘在mac上，用启动转换助理创建安装盘，这个时候选择win10的镜像，注意第二个选项下载支持不要勾选
- 再次打开启动转换助理，选择安装win10，这个时候划分一下两个系统的大小，然后安装
- 当mac重启的时候，拔下u盘，不慌，在另外一台电脑上用软碟通给u盘写入win7的系统，然后再插回去，重启mac
- 下面进入正常的win7安装操作，在选择安装分区时注意选择BOOTCAMP那个分区
- 安装完成后，此刻是没有驱动的，拔下u盘，另外一台电脑上去苹果官网下win7的支持包，然后按照指示安装对应的驱动，装完了就可以愉快的上网了

如果没有另外一台电脑，不用灰心，你可以在需要另外一台电脑的时候，重启mac，启动之后按住`Option`键不动，选择`M`开头的那个磁盘，回车，进入mac的系统，然后用那个系统完成操作就行了

## 一些坑
- 首先那个启动转换管理里面的下载apple的windows支持那个千万别点，那个下的应该是win10的支持，你要去苹果官网上下载win7的那个[支持包](https://support.apple.com/kb/DL1638?viewlocale=zh_CN&locale=zh_CN)，装系统的时候就按照纯净的windows系统来，不要写其他的进去，我不知所以的加了mac给我下载的驱动之后，驱动没有数字签名，不能正常启动windows